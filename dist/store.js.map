{"version":3,"file":"store.js","sources":["../src/store.js"],"sourcesContent":["\nexport class Store {\n  constructor(items) {\n    this.nextId = 1\n    this.change = 0\n    this.items = []\n    this.hash = {}\n    this.load(items)\n  }\n  add(item) {\n    this.change\n    return Promise.resolve(this._add(item))\n  }\n  _add(item) {\n    item.id = this.nextId\n    this.nextId ++\n    this.items.push(item)\n    this.hash[item.id] = item\n    return item\n  }\n  update(id, item) {\n    let target = this.hash[id]\n    Object.assign(target, item, {id: id})\n    this.change\n    return Promise.resolve(target)\n  }\n  get(id) {\n    return this.hash[id]\n  }\n  getItems() {\n    return this.items\n  }\n  delete(id) {  \n    this.items = this.items.filter(item => item.id !== id)\n    delete this.hash[id]\n    this.change\n    return Promise.resolve(id)\n  }\n  load(items) {\n    items.forEach(item => this._add(item))\n  }\n}\n"],"names":["items","this","nextId","change","hash","load","add","item","Promise","resolve","_add","id","push","update","target","Object","assign","get","getItems","filter","forEach","_this"],"mappings":"yBAEE,WAAYA,GACVC,KAAKC,OAAS,EACdD,KAAKE,OAAS,EACdF,KAAKD,MAAQ,GACbC,KAAKG,KAAO,GACZH,KAAKI,KAAKL,GANd,2BAQEM,IAAA,SAAIC,GAEF,OAAOC,QAAQC,QAAQR,KAAKS,KAAKH,OAEnCG,KAAA,SAAKH,GAKH,OAJAA,EAAKI,GAAKV,KAAKC,OACfD,KAAKC,SACLD,KAAKD,MAAMY,KAAKL,GAChBN,KAAKG,KAAKG,EAAKI,IAAMJ,EACdA,KAETM,OAAA,SAAOF,EAAIJ,GACT,IAAIO,EAASb,KAAKG,KAAKO,GAGvB,OAFAI,OAAOC,OAAOF,EAAQP,EAAM,CAACI,GAAIA,IAE1BH,QAAQC,QAAQK,MAEzBG,IAAA,SAAIN,GACF,YAAYP,KAAKO,MAEnBO,SAAA,WACE,YAAYlB,gBAEd,SAAOW,GAIL,OAHAV,KAAKD,MAAQC,KAAKD,MAAMmB,OAAO,SAAAZ,UAAQA,EAAKI,KAAOA,gBACvCP,KAAKO,GAEVH,QAAQC,QAAQE,MAEzBN,KAAA,SAAKL,cACHA,EAAMoB,QAAQ,SAAAb,UAAQc,EAAKX,KAAKH"}