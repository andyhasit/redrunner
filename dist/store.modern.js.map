{"version":3,"file":"store.modern.js","sources":["../src/store.js"],"sourcesContent":["\nexport class Store {\n  constructor(items) {\n    this.nextId = 1\n    this.change = 0\n    this.items = []\n    this.hash = {}\n    this.load(items)\n  }\n  add(item) {\n    this.change\n    return Promise.resolve(this._add(item))\n  }\n  _add(item) {\n    item.id = this.nextId\n    this.nextId ++\n    this.items.push(item)\n    this.hash[item.id] = item\n    return item\n  }\n  update(id, item) {\n    let target = this.hash[id]\n    Object.assign(target, item, {id: id})\n    this.change\n    return Promise.resolve(target)\n  }\n  get(id) {\n    return this.hash[id]\n  }\n  getItems() {\n    return this.items\n  }\n  delete(id) {  \n    this.items = this.items.filter(item => item.id !== id)\n    delete this.hash[id]\n    this.change\n    return Promise.resolve(id)\n  }\n  load(items) {\n    items.forEach(item => this._add(item))\n  }\n}\n"],"names":["Store","constructor","items","this","nextId","change","hash","load","add","item","Promise","resolve","_add","id","push","update","target","Object","assign","get","getItems","delete","filter","forEach"],"mappings":"MACaA,EACXC,YAAYC,GACVC,KAAKC,OAAS,EACdD,KAAKE,OAAS,EACdF,KAAKD,MAAQ,GACbC,KAAKG,KAAO,GACZH,KAAKI,KAAKL,GAEZM,IAAIC,GAEF,OAAOC,QAAQC,QAAQR,KAAKS,KAAKH,IAEnCG,KAAKH,GAKH,OAJAA,EAAKI,GAAKV,KAAKC,OACfD,KAAKC,SACLD,KAAKD,MAAMY,KAAKL,GAChBN,KAAKG,KAAKG,EAAKI,IAAMJ,EACdA,EAETM,OAAOF,EAAIJ,GACT,IAAIO,EAASb,KAAKG,KAAKO,GAGvB,OAFAI,OAAOC,OAAOF,EAAQP,EAAM,CAACI,GAAIA,IAE1BH,QAAQC,QAAQK,GAEzBG,IAAIN,GACF,YAAYP,KAAKO,GAEnBO,WACE,YAAYlB,MAEdmB,OAAOR,GAIL,OAHAV,KAAKD,MAAQC,KAAKD,MAAMoB,OAAOb,GAAQA,EAAKI,KAAOA,eACvCP,KAAKO,GAEVH,QAAQC,QAAQE,GAEzBN,KAAKL,GACHA,EAAMqB,QAAQd,GAAQN,KAAKS,KAAKH"}